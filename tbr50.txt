"""
    lista_produtos e o nome de uma lista que duranto o desenvolvimento
    rescerbera uma outra lista com as caracteristicas de produtos.

    [] este e o sinbolo de lista

    Uma lista quando recebe um dado cria um index automatico exemplo:

    lista  = ['banana', 'uva']
                 0        1

    se eu chamar o print(lista[0]) vai ser escrito na tela a palavra banana
    se eu chamar o print(lista[1]) vai ser escrito na tela a palavra uva

    no caso lista_produtos recebe outra lista exemplo:

    comida = [['banana', 'uva'], ['Arroz', 'Feijão']]
                 0        1         0        1
                     0                  1

    se eu chamar o print(comida[0][0]) vai ser escrito na tela a palavra banana
    se eu chamar o print(comida[0][1]) vai ser escrito na tela a palavra uva

    se eu chamar o print(lista[1][0]) vai ser escrito na tela a palavra Arroz
    se eu chamar o print(lista[1][1]) vai ser escrito na tela a palavra Feijão
"""
lista_produto = []

""" 
    numero e uma variavel que recebera a resposta ela não pode ser zero porque a
    atividade diz que se a resposta do usuario ao menu for 0 o programa deve encerrar
"""
numero = 1

"""
    programa principal
    
    estrutura do programa principal
    
    inicio laço de repetição (while)
    Mostrar menu ao usuario  (print)
    Testar Opção do usuario (if ou elif ou else)
    Executar tarefa selecionada pelo usuario
    Fim laço de repetição
    
"""
while numero != 0: # Se o usuario digitar o numero um o programa termina
    """
        Essa e a lista de requisito que foram pedidos na atividade o menu e totalmete ilustrativo
    """
    # incio do menu
    # Menu de opçõe 0 até 8
    print('..................................................................................')
    print('\t 0 - Encerrar o programa')
    print('\t 1 - Cadastro de novos produtos')
    print('\t 2 - Entrada de itens em estoque')
    print('\t 3 - Saída de itens do estoque')
    print('\t 4 - Exibir todos Produtos Fabricados')
    print('\t 5 - Consultar pelo Nome de um Produto Fabricado')
    print('\t 6 - Produtos Fabricados que estão abaixo do Estoque Mínimo')
    print('\t 7 - Matérias-primas que estão abaixo do Estoque Mínimo')
    print('\t 8 - Situação Financeira')
    print('..................................................................................')
    # Fim do menu

    """ 
        Espera o usuario digitar um numero, este numero e cadatrado na variavel de nome numero
    """
    # Recebe opção
    numero = int(input('Executar: '))

    # Daqui para baixo são os teste do que o usuario digitou
    # if elif else para tratar entrada do usuario

    # inicio da opção 0
    # Se o usuario digitar o numero 0 apareceranatela a mensagem fim do programa
    # Encerrar o programa
    if numero == 0:
        print('Fim do programa')
    # Fim da opção 0

    # Inicio da opção 1
    # Se o usuario digitar o numero 1 sera pedido para que o usuario digite
    # as caracteriticas do produto na lista dados_produtos[nome, tipo, quantidade, valor]
    # Cadastro de novos produtos
    elif numero == 1:
        # dados_produto recebe nome do produto no index(posição) 0
        # Recebe nome
        dados_produto = [str(input('Nome:(descrição) '))]

        # Recebe tipo
        print('P - Produto Fabricado')
        print('M - Materia-Prima')
        tipo = str(input('Tipo(M ou P): '))

        # testa se o usuario digitou m ou outra letra
        # se usuario digitar m o produto sera salvo como Materia-prima
        if tipo == 'm' or tipo == 'M':
            tipo = 'Matéria-Prima'

        # Qual quer outra letra que o usuario digitar em tipo
        # o produto vai ser cadastrado como Produto fabricado
        else:
            tipo = 'Produto Fabricado'

        # dados_produto recebe tipo do produto no index(posição) 1
        # nome da lista.append(variavel) e uma função que cadatra uma informação no final da lista
        dados_produto.append(tipo)

        # dados_produto recebe quantidade do produto no index(posição) 2
        # Recebe quantidade
        dados_produto.append(int(input('Quantidade: ')))

        # dados_produto recebe valor do produto no index(posição) 3
        # Recebe preço unitario
        dados_produto.append(float(input('Valor: R$').replace(',', '.')))

        # Adciona um produto a lista
        # A lista_produto recebe a lita dados_produto
        # lista_produto[[nome, tipo, quantidade, valor], [nome, tipo, quantidade, valor]]
        lista_produto.append(dados_produto)
    # Fim da opção 1

    # Inicio da opção 2
    # Entrada de itens em estoque
    elif numero == 2:

        # O for percore a lista_produto pegado o index(codigo) e a lista dados_produto(produto)
        for codigo, produto in enumerate(lista_produto):
            # Lista de caracteristicas do produto
            print(f'Codigo do produto({codigo})')
            print('....................................................')
            print(f'\t Nome(descrição)  - {produto[0]}')
            print(f'\t Tipo de produto  - {produto[1]}')
            print(f'\t Quantidade atual - {produto[2]}')
            print(f'\t Valor unitario   - {produto[3]}')
            print(f'\t Valor Total      - {produto[2] * produto[3]}')# Calcula a soma de todos os produtos
            print('....................................................')

        # codigo recebe a resposta do usuario
        # o usuario deve digitar o index da lista onde os dados estão
        codigo = int(input('Selecio o produto:(Codigo) '))

        # quantidade recebe a resposta do usuario
        # o usuario deve digitar uma quantida quer sera somada na quantidade atual
        quantidade = 0
        while quantidade <= 0:
            quantidade = int(input('Quantidade: '))

        # busca pelo index um produto e soma a quantidade recebida com quantidade atual do produto
        lista_produto[codigo][2] += quantidade

    # fim da opção 2

    # Inicio da opção 3
    # faz a mesma coisa que a opção de cima so que ao invez de somar  vai subtrair
    # Saida de itens em estoque
    elif numero == 3:
        for codigo, produto in enumerate(lista_produto):
            print(f'Codigo do produto({codigo})')
            print('....................................................')
            print(f'\t Nome(descrição)  - {produto[0]}')
            print(f'\t Tipo de produto  - {produto[1]}')
            print(f'\t Quantidade atual - {produto[2]}')
            print(f'\t Valor unitario   - {produto[3]}')
            print(f'\t Valor Total      - {produto[2] * produto[3]}')
            print('....................................................')
        codigo = int(input('Selecio o produto:(Codigo) '))

        quantidade = 0
        while quantidade <= 0:
            quantidade = int(input('Quantidade: '))

        lista_produto[codigo][2] -= quantidade
    # fim da opção 3
    
    # inicio da opção 4
    # Exibir todos Produtos Fabricados
    elif numero == 4:
        for codigo, produto in enumerate(lista_produto):
            print(f'Codigo do produto({codigo})')
            print('....................................................')
            print(f'\t Nome(descrição)  - {produto[0]}')
            print(f'\t Tipo de produto  - {produto[1]}')
            print(f'\t Quantidade atual - {produto[2]}')
            print(f'\t Valor unitario   - {produto[3]}')
            print(f'\t Valor Total      - {produto[2] * produto[3]}')
            print('....................................................')
    # fim da opção 4
    
    # inicio da opção 5
    # Consultar pelo No-me de um Produto Fabricado
    elif numero == 5:
        achou = []# lista de produtos que foram encontrados
        
        # resebe oque o usuario quer procurar
        nome = str(input('Nome produto: '))
        
        # O for pecorre toda lita de produtos
        for n in lista_produto:
            # testa se existe a resposta do cliente no nome do produto
            if nome in n[0] or nome == n:
                #coloca o produto dentor da lista
                achou.append(n)
                
        # Mostra a lista de produtos encontrados
        for codigo, produto in enumerate(achou):
            print(f'Codigo do produto({codigo})')
            print('....................................................')
            print(f'\t Nome(descrição)  - {produto[0]}')
            print(f'\t Tipo de produto  - {produto[1]}')
            print(f'\t Quantidade atual - {produto[2]}')
            print(f'\t Valor unitario   - {produto[3]}')
            print(f'\t Valor Total      - {produto[2] * produto[3]}')
            print('....................................................')
    # fim opção 5
    
    # inicio da opção 6
    # Produtos Fabricados que estão abaixo do Estoque Mínimo
    elif numero == 6:
        # recebe do usuario qual e a quantidade minima para o estoque
        estoque_minimo = int(input('Estoque Mínimo: '))
        
        # percorre a lista de produtos pegando posição e o produto
        for codigo, produto in enumerate(lista_produto):
            # testa se o estoque esta abaixo do minimo  e se o tipo do produto e Produto Fabricado
            if estoque_minimo > produto[2] and produto[1] == 'Produto Fabricado':
                print("!!! QUANTIDADE DO PRODUTO ABAIXO DO MINIMO PERMITIDO !!!")
                print(f'Codigo do produto({codigo})')
                print('....................................................')
                print(f'\t Nome(descrição)  - {produto[0]}')
                print(f'\t Tipo de produto  - {produto[1]}')
                print(f'\t Quantidade atual - {produto[2]} faltam {estoque_minimo - produto[2]} itens para o minimo')
                print(f'\t Valor unitario   - {produto[3]}')
                print(f'\t Valor Total      - {produto[2] * produto[3]}')
                print('....................................................')
    # fim da opção 6
    
    # inicio da opção 7
    # Faz o mesmo que o de cima mais para materia prima
    # Materias-Primas que estão abaixo do Estoque Mínimo
    elif numero == 7:
        estoque_minimo = int(input('Estoque Mínimo: '))

        for codigo, produto in enumerate(lista_produto):
            if estoque_minimo > produto[2] and produto[1] == 'Matéria-Prima':
                print("!!! QUANTIDADE DO PRODUTO ABAIXO DO MINIMO PERMITIDO !!!")
                print(f'Codigo do produto({codigo})')
                print('....................................................')
                print(f'\t Nome(descrição)  - {produto[0]}')
                print(f'\t Tipo de produto  - {produto[1]}')
                print(f'\t Quantidade atual - {produto[2]} faltam {estoque_minimo - produto[2]} itens para o minimo')
                print(f'\t Valor unitario   - {produto[3]}')
                print(f'\t Valor Total      - {produto[2] * produto[3]}')
                print('....................................................')
    # fim da opção 7
    
    # inicio da opção 8
    # Situação Financeira
    elif numero == 8:
        total_materia = 0
        total_produto = 0
        
        # percorre a lista de produtos
        for produto in lista_produto:
            
            # Testa se o produto e materia prima 
            if produto[1] == 'Matéria-Prima':
                total_materia += (produto[2] * produto[3])
            
            # Teta se o produto e Produto Fabricado
            if produto[1] == 'Produto Fabricado':
                total_produto += (produto[2] * produto[3])

        print('Total gasto em Materias-primas: R$', total_materia)
        print('Total gasto em Produtos Fabricados: R$', total_produto)
        
        # testa se a soma dos produtos fabricados e maior da soma de materias primas
        if total_produto > total_materia:
            print('Diferença ente os dois: R$', total_produto - total_materia)
            print('O valor total de produtos fabricados esta mais caro')

        if total_produto < total_materia:
            print('Diferença ente os dois: R$', total_materia - total_produto)
            print('O valor total de Materia-primas esta mais caro')